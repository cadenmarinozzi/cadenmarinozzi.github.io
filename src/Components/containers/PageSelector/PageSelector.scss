@use 'vars.scss' as *;

.page-selector {
    display: flex;
    flex-direction: column;

    .page {
        display: grid;
        grid-template-columns: 1fr 1fr;

        transform: scaleY(0%);

        .preview {
            display: flex;

            align-items: center;

            justify-content: center;
            overflow: clip;

            .preview-content {
                width: 90%;
                height: 90%;

                opacity: 0;

                transform: rotate(-5deg) translate(100%, 120%);
                transition: $transition-fast;

                transform-origin: 50% 10%;
            }

            .element-preview-content {
                transform: translate(100%);
                transition: $transition-fast;

                opacity: 0;

                width: 90%;
                height: 90%;
            }

            .preview-images {
                display: flex;
                flex-direction: row;

                gap: $spacing-small;

                overflow: wrap;

                animation: billboardScroll 20s linear infinite;

                @for $i from 1 through 100 {

                    // lmao
                    .preview-content:nth-child(#{$i}) {
                        width: 100%;
                        height: 10vh;

                        object-fit: cover;

                        transition-delay: #{$i * 0.01}s;
                    }
                }
            }

            @keyframes billboardScroll {
                0% {
                    transform: translateX(0);
                }

                50% {
                    transform: translateX(-100%);
                }

                100% {
                    transform: translateX(0%);
                }
            }
        }

        .page-title {
            display: flex;
            flex-direction: row;

            align-items: center;

            gap: $spacing-medium;

            border-top: 1px solid black;
            border-left: 1px solid black;

            .link {
                text-decoration: none;
            }

            .title {
                font-family: 'Arges-BlackCondensed', sans-serif;
                text-transform: uppercase;

                transition: $transition-slow;

                cursor: pointer;
            }

            .title:hover {
                color: grey;
            }

            .index {}
        }
    }

    .page:first-child {
        .page-title {
            border-top: none;
        }
    }

    .page:hover {
        .preview {
            .preview-content {
                opacity: 1;

                transform: rotate(0deg) translate(0, 0);
            }

            .element-preview-content {
                opacity: 1;

                transform: translate(0);
            }
        }
    }

    @for $i from 1 through 100 {
        .page:nth-child(#{$i}) {
            animation: openPageSelector 0.5s ease-in-out forwards;
            transform-origin: top center;

            animation-delay: #{$i * 0.2}s;
        }
    }
}

@keyframes openPageSelector {
    0% {
        transform: scaleY(0%);
    }

    100% {
        transform: scaleY(100%);
    }
}

.page-selector-selecting-page {
    @for $i from 1 through 100 {
        .page :nth-child(#{$i}) {
            animation: closePageSelector 0.5s ease-in-out forwards;
            transform-origin: top center;

            animation-delay: #{$i * 0.2}s;
        }
    }
}

@keyframes closePageSelector {
    0% {
        transform: scaleY(100%);
    }

    100% {
        transform: scaleY(0%);
    }
}